<!-- filepath: templates/presupuesto/presupuesto_ingresos_comparativo.html -->
{% load dict_extras %}
<h2>Presupuesto de Ingresos {{ anio }}</h2>
<table class="table table-bordered">
    <thead>
        <tr>
            <th>Origen</th>
            {% for mes in meses %}
                <th>{{ mes|date:"F" }}</th>
            {% endfor %}
        </tr>
    </thead>
    <tbody>
        {% for origen, nombre in origenes %}
        <tr>
            <td><b>{{ nombre }}</b></td>
            {% for mes in meses %}
                <td>
    <div>Presup: ${{ presupuesto_dict|dict_get:origen|dict_get:mes|default:0|floatformat:2 }}</div>
    <div>Real: ${{ reales_dict|dict_get:origen|dict_get:mes|default:0|floatformat:2 }}</div>
    <div>
        <small>
            Dif: ${{ reales_dict|dict_get:origen|dict_get:mes|default:0|floatformat:2|add:"-"|add:presupuesto_dict|dict_get:origen|dict_get:mes|default:0|floatformat:2 }}
        </small>
    </div>
</td>
            {% endfor %}
        </tr>
        {% endfor %}
    </tbody>
</table>